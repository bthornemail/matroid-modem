# RFC-0018

# Proof-Carrying Federation Protocol v1.0

## Secure Cross-Basis Exchange with Embedded Deterministic Proofs

Status: Draft
Depends on: RFC-0010, RFC-0015

---

# 1. Purpose

Defines how federation events must carry verifiable proof artifacts.

Prevents semantic spoofing across bases.

---

# 2. Federation Event Structure

```json
{
  "type":"federation_event",
  "origin_basis":"basisA",
  "origin_registry_hash":"sha256-...",
  "origin_signature":"0x...",
  "payload":{ ... },
  "closure_proof":{ ... },
  "drift":0.12
}
```

---

# 3. Mandatory Proof Components

Federated closure must include:

* closure_id
* registry_hash
* basisHash
* drift
* proof_hash

---

# 4. Verification Procedure

Upon receipt:

1. Verify origin_signature
2. Verify registry_hash known or allowed
3. Recompute closure_proof
4. Recompute drift
5. Apply federation threshold

---

# 5. Admission Rule

Event admitted iff:

```
signature_valid
∧ proof_valid
∧ drift ≤ threshold
```

---

# 6. Federation Rejection

Emit:

```json
{
  "type":"federation_reject",
  "reason":"proof_invalid"
}
```

---

# 7. No Implicit Trust

Federation nodes MUST NOT:

* Trust foreign registry blindly
* Trust drift value without recomputation
* Accept unsigned events

---

# 8. Replay Isolation

Federated events must not alter local replay determinism unless admitted.

---

# 9. Trust Weight

Nodes may assign trust weight τ to foreign basis.

Effective drift:

```
D_effective = D_total × (1 - τ)
```

τ ∈ [0,1]

---

# 10. Invariant

Federation MUST be proof-carrying or it is invalid.
