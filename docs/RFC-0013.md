# RFC-0013

# Hardware Light Ring Carrier Encoding Standard v1.0

## Physical Modem Encoding for Semantic Frames

Status: Draft
Depends on: RFC-0006

---

# 1. Purpose

Defines mapping between semantic events and circular LED carrier encoding.

Used for:

* Light rings
* ESP32 LED arrays
* Camera demod

---

# 2. Carrier Model

Parameters:

```id="lr1"
hue → frequency
brightness → amplitude
angle → phase
rotation_speed → baud
```

---

# 3. Fano Line Encoding

Each Fano line (3 points) assigned:

```id="lr2"
phase_offset = point_id × 120°
```

---

# 4. Quadrant Encoding

| Quadrant | Hue          |
| -------- | ------------ |
| KK       | 120° (green) |
| KU       | 60° (yellow) |
| UK       | 30° (orange) |
| UU       | 210° (blue)  |

---

# 5. Baud Cycle

One full 720-tick cycle = one semantic symbol.

```id="lr3"
FULL_CYCLE = 720
```

---

# 6. Frame Structure

```json id="lr4"
{
  "type":"tx_frame",
  "carrier":{
    "fano_line":"L3",
    "phases":[...],
    "brightness":0.8,
    "duration_ticks":720
  }
}
```

---

# 7. Demod Requirements

Camera demod MUST:

1. Sample at ≥ 30 FPS
2. Detect centroid
3. Decode hue clusters
4. Reconstruct quadrant per point
5. Infer fano_line

---

# 8. Noise Tolerance

Allow ±10° hue deviation
Allow ±15% brightness variance

---

# 9. Calibration

QR handshake defines:

```id="lr5"
ring_center_norm
ring_radius_norm
basisHash
```

---

# 10. Carrier Invariant

> Same tx_frame MUST produce identical decoded fano_line under calibrated geometry.

---

# 11. Multi-Ring Extension

Multiple rings encode multiple closures in parallel via phase multiplexing.

---

# 12. Physical Law

Carrier encoding MUST remain basis-agnostic.
Meaning resides in decoded NDJSON only.
